head(ts.f.ratios.dat)
head(salt.ts.dat)
head(merged.dat)
head(ts.ratios.temp)
head(ts.f.ratios.dat)
head(tt.dat)
pdf("RSC-asper-fig2-BRPratio-1010.pdf",title='RSC as per CJFAS fig2 BRPratio') ## CHANGED FROM CJFAS CODE HERE par(mfrow=c(3,2), mar=c(0,0,0,0), oma=c(4,4,2,2), las=1) ## All plot.poly.base.func(region="All", category="All", ylim=c(0,2.0), xlim=c(1970,2008), yaxt="n", xaxt="n", brp=TRUE) plot.poly.trend.func(region="All", category="All", brp=TRUE, ylim=c(0,2)) abline(h=1, lty=2) ## All by category plot.poly.base.func(region="All", category="Both", ylim=c(0,2.0), xlim=c(1970,2008), yaxt="n", xaxt="n", brp=TRUE) plot.poly.trend.func(region="All", category="Both", brp=TRUE, ylim=c(0,2)) abline(h=1, lty=2) ## Region by category plot.regions.vec<-c("NEPac","NWAtl","HighSeas") ylim.upr<-4 for(i in 1:length(plot.regions.vec)){ ## setup plotting region ## find out if i is odd (TRUE) or even (FALSE) index<-i/2-i-as.integer(i/2-i)!=0 if(i>1){ if(index){ plot.poly.base.func(region=plot.regions.vec[i], category="Pelagic", ylim=c(0,ylim.upr), xlim=c(1970,2008), yaxt="s", xaxt="s", brp=TRUE) }else{ plot.poly.base.func(region=plot.regions.vec[i], category="Pelagic", ylim=c(0,ylim.upr), xlim=c(1970,2008), yaxt="n", xaxt="n", brp=TRUE) axis(side=1,at=seq(1980,2010, by=10), cex.axis=1.2) }}else{ if(index){ plot.poly.base.func(region=plot.regions.vec[i], category="Pelagic", ylim=c(0,ylim.upr), xlim=c(1970,2008), yaxt="s", xaxt="n", brp=TRUE) }else{ plot.poly.base.func(region=plot.regions.vec[i], category="Pelagic", ylim=c(0,ylim.upr), xlim=c(1970,2008), yaxt="n", xaxt="n", brp=TRUE) } } ## plot the trends plot.poly.trend.func(region=plot.regions.vec[i], category="Pelagic", ylim=c(0,ylim.upr)) plot.poly.trend.func(region=plot.regions.vec[i], category="Demersal", ylim=c(0,ylim.upr)) abline(h=1, lty=2) } par(las=0) mtext(side=1, text="Year", cex=1.1, line=2.5, outer=TRUE) mtext(side=2, text= "Relative biomass", cex=1.1, line=2.25, outer=TRUE) dev.off() ## orig #png("/Users/mintoc/docs/analyses/sr/baumhutchings/tex/DRAFT2/figures/CJFAS-shortcomm-fig2_orig_v1.png", width=5,height=7, res=600,units="in") pdf("RSC-asper-fig2-orig-1010.pdf",title='RSC as per CJFAS fig2 orig') ## CHANGED FROM CJFAS CODE HERE par(mfrow=c(3,2), mar=c(0,0,0,0), oma=c(4,4.5,2,2), las=1) ## All plot.poly.base.func(region="All", category="All", ylim=c(-1.0,1.0), xlim=c(1970,2008), yaxt="n", xaxt="n", brp=FALSE) abline(h=0, lty=2, col=gray(0.6), cex=0.7) plot.poly.trend.func(region="All", category="All", brp=FALSE, ylim=c(-1.0,1.0)) ## All by category plot.poly.base.func(region="All", category="Both", ylim=c(-1.0,1.0), xlim=c(1970,2008), yaxt="n", xaxt="n", brp=FALSE) abline(h=0, lty=2, col=gray(0.6), cex=0.7) plot.poly.trend.func(region="All", category="Both", ylim=c(-1.0,1.0), brp=FALSE) ## Region by category plot.regions.vec<-c("NEPac", "NWAtl", "HighSeas") for(i in 1:length(plot.regions.vec)){ print(i) ## setup plotting region ## find out if i is odd (TRUE) or even (FALSE) index<-i/2-i-as.integer(i/2-i)!=0 if(i>1){ if(index){ plot.poly.base.func(region=plot.regions.vec[i], category="Pelagic", ylim=c(-1.0,1.0), xlim=c(1970,2008), yaxt="s", xaxt="s", brp=FALSE) abline(h=0, lty=2, col=gray(0.6), cex=0.7) }else{ plot.poly.base.func(region=plot.regions.vec[i], category="Pelagic", ylim=c(-1.0,1.0), xlim=c(1970,2008), yaxt="n", xaxt="n", brp=FALSE) abline(h=0, lty=2, col=gray(0.6), cex=0.7) axis(side=1,at=seq(1980,2010, by=10), cex.axis=1.2) }}else{ if(index){ plot.poly.base.func(region=plot.regions.vec[i], category="Pelagic", ylim=c(-1.0,1.0), xlim=c(1970,2008), yaxt="s", xaxt="n", brp=FALSE) abline(h=0, lty=2, col=gray(0.6), cex=0.7) }else{ plot.poly.base.func(region=plot.regions.vec[i], category="Pelagic", ylim=c(-1.0,1.0), xlim=c(1970,2008), yaxt="n", xaxt="n", brp=FALSE) abline(h=0, lty=2, col=gray(0.6), cex=0.7) } } ## plot the trends plot.poly.trend.func(region=plot.regions.vec[i], category="Pelagic", brp=FALSE, ylim=c(-1.0,1.0)) plot.poly.trend.func(region=plot.regions.vec[i], category="Demersal", brp=FALSE, ylim=c(-1.0,1.0)) } par(las=0) mtext(side=1, text="Year", cex=1.1, line=2.5, outer=TRUE) mtext(side=2, text= "Relative SSB", cex=1.1, line=2.75, outer=TRUE) dev.off()
head(ts.dat)
q()
objects()
source("RSC-functions.R")
chan
head(ts.ssb)
dim(ts.ssb)
head(ts.ssb)
dim(ts.ssb)
head(ts.f)
dim(f.ts)
dim(ts.f)
head(ts.ssb)
dim(ts.ssb)
assessids
scale.logmean<- data.frame(fct.dat(sapply(seq(1,length(assessids)), function(x){ return(c(as.character(assessids[x]),mean(log(fct.dat$ssb[t$assessid==assessids[x]]), na.rm=TRUE))) })), stringsAsFactors=FALSE)
sapply(seq(1,length(assessids)), function(x){ return(c(as.character(assessids[x]),mean(log(fct.dat$ssb[t$assessid==assessids[x]]), na.rm=TRUE))) })
scale.logmean<- data.frame(t(sapply(seq(1,length(assessids)), function(x){ return(c(as.character(assessids[x]),mean(log(fct.dat$ssb[fct.dat$assessid==assessids[x]]), na.rm=TRUE))) })), stringsAsFactors=FALSE)
head(fct.dat)
subset(fct.dat, stockid=='ACADREDGOMGB')
plot(response~tsyear,data=subset(fct.dat, stockid=='ACADREDGOMGB'))
>tt.dat
tt.dat
getwd()
q()
